<div class="module-panel" id="doc-detail-module">
    <div class="page-header">
        <h1 class="page-title">API接口设计规范文档</h1>
        <div class="page-actions">
            <button class="btn btn-outline-primary me-2">
                <i class="bi bi-download"></i> 下载
            </button>
            <button class="btn btn-primary">
                <i class="bi bi-pencil"></i> 编辑
            </button>
        </div>
    </div>

    <!-- 文档元信息 -->
    <div class="doc-meta-info">
        <div class="meta-card">
            <div class="meta-item">
                <span class="meta-label">创建者</span>
                <span class="meta-value">张明</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">创建日期</span>
                <span class="meta-value">2023-10-15</span>
            </div>
        </div>
        <div class="meta-card">
            <div class="meta-item">
                <span class="meta-label">最后修改</span>
                <span class="meta-value">李红</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">修改日期</span>
                <span class="meta-value">2023-12-20</span>
            </div>
        </div>
        <div class="meta-card">
            <div class="meta-item">
                <span class="meta-label">文档大小</span>
                <span class="meta-value">1.2 MB</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">文档格式</span>
                <span class="meta-value">DOCX</span>
            </div>
        </div>
        <div class="meta-card">
            <div class="meta-item">
                <span class="meta-label">浏览次数</span>
                <span class="meta-value">239</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">下载次数</span>
                <span class="meta-value">56</span>
            </div>
        </div>
    </div>

    <!-- 多标签展示 -->
    <ul class="nav nav-tabs doc-tabs" id="docTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="original-tab" data-bs-toggle="tab" data-bs-target="#original" type="button" role="tab" aria-controls="original" aria-selected="true">原文</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="parsed-tab" data-bs-toggle="tab" data-bs-target="#parsed" type="button" role="tab" aria-controls="parsed" aria-selected="false">解析结果</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="related-tab" data-bs-toggle="tab" data-bs-target="#related" type="button" role="tab" aria-controls="related" aria-selected="false">关联知识</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="versions-tab" data-bs-toggle="tab" data-bs-target="#versions" type="button" role="tab" aria-controls="versions" aria-selected="false">版本历史</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="permissions-tab" data-bs-toggle="tab" data-bs-target="#permissions" type="button" role="tab" aria-controls="permissions" aria-selected="false">权限设置</button>
        </li>
    </ul>

    <div class="tab-content p-3 bg-white rounded-3 shadow-sm" id="docTabsContent">
        <!-- 原文内容 -->
        <div class="tab-pane fade show active" id="original" role="tabpanel" aria-labelledby="original-tab">
            <div class="document-viewer">
                <div class="doc-toolbar">
                    <div class="toolbar-actions">
                        <button class="btn btn-sm btn-outline-secondary">
                            <i class="bi bi-zoom-in"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-secondary">
                            <i class="bi bi-zoom-out"></i>
                        </button>
                        <span class="mx-2">页面 1/18</span>
                        <button class="btn btn-sm btn-outline-secondary">
                            <i class="bi bi-arrow-left"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-secondary">
                            <i class="bi bi-arrow-right"></i>
                        </button>
                    </div>
                </div>
                <div class="doc-content p-4">
                    <h2>API接口设计规范</h2>
                    <p class="mb-3">本文档规定了公司内部API接口的设计标准和规范，所有新开发的API须遵循本规范。</p>
                    
                    <h3 class="mt-4">1. 接口命名规范</h3>
                    <p>接口命名应遵循RESTful风格，使用名词复数形式表示资源集合，例如：/users、/products。</p>
                    
                    <h3 class="mt-4">2. HTTP方法使用规范</h3>
                    <ul>
                        <li>GET：获取资源，不应修改资源状态</li>
                        <li>POST：创建新资源</li>
                        <li>PUT：更新资源（全量更新）</li>
                        <li>PATCH：部分更新资源</li>
                        <li>DELETE：删除资源</li>
                    </ul>
                    
                    <h3 class="mt-4">3. 状态码使用规范</h3>
                    <p>接口应正确使用HTTP状态码表示请求处理结果：</p>
                    <ul>
                        <li>2xx：成功</li>
                        <li>4xx：客户端错误</li>
                        <li>5xx：服务器错误</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 解析结果 -->
        <div class="tab-pane fade" id="parsed" role="tabpanel" aria-labelledby="parsed-tab">
            <div class="parsed-content">
                <div class="parsed-summary mb-4">
                    <h5 class="mb-3">文档摘要</h5>
                    <p>本文档详细规定了RESTful API的设计标准，包括命名规范、HTTP方法使用、状态码、认证方式和版本控制等内容。适用于公司所有新开发的API接口。</p>
                </div>
                
                <div class="parsed-keywords mb-4">
                    <h5 class="mb-3">关键词提取</h5>
                    <div class="keyword-tags">
                        <span class="keyword-tag">API设计</span>
                        <span class="keyword-tag">RESTful</span>
                        <span class="keyword-tag">HTTP方法</span>
                        <span class="keyword-tag">状态码</span>
                        <span class="keyword-tag">接口认证</span>
                        <span class="keyword-tag">版本控制</span>
                        <span class="keyword-tag">接口命名</span>
                        <span class="keyword-tag">错误处理</span>
                    </div>
                </div>
                
                <div class="parsed-entities mb-4">
                    <h5 class="mb-3">实体识别</h5>
                    <div class="entities-table-container">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>实体类型</th>
                                    <th>实体值</th>
                                    <th>出现次数</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>技术规范</td>
                                    <td>RESTful API</td>
                                    <td>14</td>
                                </tr>
                                <tr>
                                    <td>HTTP方法</td>
                                    <td>GET, POST, PUT, PATCH, DELETE</td>
                                    <td>8</td>
                                </tr>
                                <tr>
                                    <td>认证方式</td>
                                    <td>OAuth 2.0, JWT</td>
                                    <td>5</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- 关联知识 -->
        <div class="tab-pane fade" id="related" role="tabpanel" aria-labelledby="related-tab">
            <div class="related-knowledge">
                <div class="row mb-4">
                    <div class="col-md-8">
                        <div class="knowledge-graph-preview">
                            <h5 class="mb-3">知识图谱</h5>
                            <div class="graph-container">
                                <img src="https://via.placeholder.com/800x400?text=知识图谱预览" class="img-fluid rounded" alt="知识图谱">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="related-entities">
                            <h5 class="mb-3">关联实体</h5>
                            <div class="entity-list">
                                <div class="entity-item">
                                    <div class="entity-badge technical">技术规范</div>
                                    <div class="entity-name">RESTful API</div>
                                </div>
                                <div class="entity-item">
                                    <div class="entity-badge method">HTTP方法</div>
                                    <div class="entity-name">GET/POST/PUT</div>
                                </div>
                                <div class="entity-item">
                                    <div class="entity-badge security">认证方式</div>
                                    <div class="entity-name">OAuth 2.0</div>
                                </div>
                                <div class="entity-item">
                                    <div class="entity-badge security">认证方式</div>
                                    <div class="entity-name">JWT</div>
                                </div>
                                <div class="entity-item">
                                    <div class="entity-badge standard">标准</div>
                                    <div class="entity-name">HTTP状态码</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="related-documents">
                    <h5 class="mb-3">关联文档</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="related-doc-card">
                                <div class="doc-card-header">
                                    <div class="doc-icon">
                                        <i class="bi bi-file-earmark-pdf"></i>
                                    </div>
                                    <div class="doc-info">
                                        <h6 class="doc-title">微服务架构设计文档</h6>
                                        <div class="doc-meta">
                                            <span class="doc-type">技术文档</span>
                                            <span class="doc-relevance">相关度: 92%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="doc-card-body">
                                    <p class="doc-summary">本文档详细描述了微服务架构的设计原则和实践指南，包含了API网关设计和服务间通信的最佳实践。</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="related-doc-card">
                                <div class="doc-card-header">
                                    <div class="doc-icon">
                                        <i class="bi bi-file-earmark-word"></i>
                                    </div>
                                    <div class="doc-info">
                                        <h6 class="doc-title">前端API调用规范</h6>
                                        <div class="doc-meta">
                                            <span class="doc-type">技术文档</span>
                                            <span class="doc-relevance">相关度: 87%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="doc-card-body">
                                    <p class="doc-summary">该文档规定了前端应用与后端API交互的标准方式，包括请求格式、错误处理和状态管理等内容。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 版本历史 -->
        <div class="tab-pane fade" id="versions" role="tabpanel" aria-labelledby="versions-tab">
            <div class="version-timeline">
                <div class="version-item">
                    <div class="version-date">2023-12-20</div>
                    <div class="version-badge"></div>
                    <div class="version-content">
                        <div class="version-header">
                            <div class="version-number">v2.1</div>
                            <div class="version-author">李红</div>
                        </div>
                        <div class="version-changes">
                            <div class="change-item">
                                <span class="change-type added">新增</span>
                                <span class="change-description">添加了API节流与限流的最佳实践章节</span>
                            </div>
                            <div class="change-item">
                                <span class="change-type modified">修改</span>
                                <span class="change-description">更新了认证机制说明，增加了JWT实现细节</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="version-item">
                    <div class="version-date">2023-11-05</div>
                    <div class="version-badge"></div>
                    <div class="version-content">
                        <div class="version-header">
                            <div class="version-number">v2.0</div>
                            <div class="version-author">王强</div>
                        </div>
                        <div class="version-changes">
                            <div class="change-item">
                                <span class="change-type added">新增</span>
                                <span class="change-description">添加了API文档自动化生成规范</span>
                            </div>
                            <div class="change-item">
                                <span class="change-type modified">修改</span>
                                <span class="change-description">重构了错误处理部分，增加了标准错误码</span>
                            </div>
                            <div class="change-item">
                                <span class="change-type added">新增</span>
                                <span class="change-description">添加了API版本管理策略</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="version-item">
                    <div class="version-date">2023-10-15</div>
                    <div class="version-badge"></div>
                    <div class="version-content">
                        <div class="version-header">
                            <div class="version-number">v1.0</div>
                            <div class="version-author">张明</div>
                        </div>
                        <div class="version-changes">
                            <div class="change-item">
                                <span class="change-type added">初始版本</span>
                                <span class="change-description">文档初始创建，包含基本API设计规范</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 权限设置 -->
        <div class="tab-pane fade" id="permissions" role="tabpanel" aria-labelledby="permissions-tab">
            <div class="permission-settings">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">当前权限状态</h5>
                            </div>
                            <div class="card-body">
                                <div class="permission-summary">
                                    <div class="permission-stat">
                                        <div class="stat-value">8</div>
                                        <div class="stat-label">可访问角色</div>
                                    </div>
                                    <div class="permission-stat">
                                        <div class="stat-value">3</div>
                                        <div class="stat-label">可编辑角色</div>
                                    </div>
                                    <div class="permission-stat">
                                        <div class="stat-value">2</div>
                                        <div class="stat-label">可管理角色</div>
                                    </div>
                                </div>
                                
                                <div class="doc-visibility mt-3">
                                    <div class="visibility-label">文档可见性</div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="docVisibility" id="visibilityRestricted" checked>
                                        <label class="form-check-label" for="visibilityRestricted">受限访问</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="docVisibility" id="visibilityInternal">
                                        <label class="form-check-label" for="visibilityInternal">内部公开</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">快速权限调整</h5>
                            </div>
                            <div class="card-body">
                                <div class="form-group mb-3">
                                    <label for="roleSelect" class="form-label">选择角色</label>
                                    <select class="form-select" id="roleSelect">
                                        <option value="">-- 选择角色 --</option>
                                        <option value="developer">开发人员</option>
                                        <option value="designer">设计人员</option>
                                        <option value="tester">测试人员</option>
                                        <option value="manager">项目经理</option>
                                        <option value="product">产品经理</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">权限级别</label>
                                    <div class="d-flex">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="radio" name="permissionLevel" id="permRead" checked>
                                            <label class="form-check-label" for="permRead">只读</label>
                                        </div>
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="radio" name="permissionLevel" id="permEdit">
                                            <label class="form-check-label" for="permEdit">编辑</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="permissionLevel" id="permManage">
                                            <label class="form-check-label" for="permManage">管理</label>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary">添加权限</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 权限分配可视化矩阵 -->
                <div class="permission-matrix-wrapper">
                    <h5 class="mb-3">权限分配矩阵</h5>
                    <div class="permission-matrix">
                        <table class="matrix-table">
                            <thead>
                                <tr>
                                    <th>角色/权限</th>
                                    <th>查看</th>
                                    <th>下载</th>
                                    <th>评论</th>
                                    <th>编辑</th>
                                    <th>删除</th>
                                    <th>权限管理</th>
                                    <th>共享</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>管理员</td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                </tr>
                                <tr>
                                    <td>技术主管</td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-partial"><i class="bi bi-dash"></i></span></td>
                                    <td><span class="permission-indicator permission-partial"><i class="bi bi-dash"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                </tr>
                                <tr>
                                    <td>开发人员</td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-partial"><i class="bi bi-dash"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                </tr>
                                <tr>
                                    <td>测试人员</td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                </tr>
                                <tr>
                                    <td>产品经理</td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-full"><i class="bi bi-check"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-none"><i class="bi bi-x"></i></span></td>
                                    <td><span class="permission-indicator permission-partial"><i class="bi bi-dash"></i></span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 